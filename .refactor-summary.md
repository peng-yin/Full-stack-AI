# ç›®å½•ç»“æ„é‡æ„æ€»ç»“

## ğŸ“… é‡æ„æ—¥æœŸ
2026å¹´2æœˆ3æ—¥

## ğŸ¯ é‡æ„ç›®æ ‡
ä¼˜åŒ– `src/` ç›®å½•ç»“æ„ï¼Œå°† MCP ç¤ºä¾‹ä»£ç ä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘åˆ†ç¦»

## âœ… æ‰§è¡Œçš„æ›´æ”¹

### 1. ç›®å½•é‡æ„
```
ä¹‹å‰:
src/
â”œâ”€â”€ lib/           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â””â”€â”€ mcp/           # MCP ç¤ºä¾‹ä»£ç 

ä¹‹å:
src/
â”œâ”€â”€ lib/           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â””â”€â”€ examples/
    â””â”€â”€ mcp/       # MCP ç¤ºä¾‹ä»£ç ï¼ˆå« READMEï¼‰
```

### 2. æ–‡ä»¶ç§»åŠ¨
ä»¥ä¸‹æ–‡ä»¶ä» `src/mcp/` ç§»åŠ¨åˆ° `src/examples/mcp/`ï¼š
- âœ… `server.ts` - MCP Server ç¤ºä¾‹
- âœ… `client.ts` - MCP Client ç¤ºä¾‹
- âœ… `http-server.ts` - HTTP MCP Server
- âœ… `advanced-demo.ts` - é«˜çº§ç¤ºä¾‹
- âœ… `test.ts` - æµ‹è¯•æ–‡ä»¶

### 3. è·¯å¾„æ›´æ–°
æ›´æ–°äº†ä»¥ä¸‹æ–‡ä»¶ä¸­çš„å¼•ç”¨è·¯å¾„ï¼š

#### package.json
```diff
- "mcp:server": "npx tsx src/mcp/server.ts"
+ "mcp:server": "npx tsx src/examples/mcp/server.ts"

- "mcp:client": "npx tsx src/mcp/client.ts"
+ "mcp:client": "npx tsx src/examples/mcp/client.ts"

- "mcp:http": "npx tsx src/mcp/http-server.ts"
+ "mcp:http": "npx tsx src/examples/mcp/http-server.ts"
```

#### src/app/api/mcp/route.ts
```diff
- args: ['tsx', path.join(process.cwd(), 'src/mcp/server.ts')]
+ args: ['tsx', path.join(process.cwd(), 'src/examples/mcp/server.ts')]
```

#### src/app/mcp-demo/page.tsx
```diff
- src/mcp/server.ts
+ src/examples/mcp/server.ts

- src/mcp/client.ts
+ src/examples/mcp/client.ts
```

### 4. æ–°å¢æ–‡æ¡£
åˆ›å»º `src/examples/mcp/README.md`ï¼ŒåŒ…å«ï¼š
- æ–‡ä»¶è¯´æ˜
- è¿è¡Œç¤ºä¾‹çš„å‘½ä»¤
- ä¸ç”Ÿäº§ä»£ç çš„å…³è”è¯´æ˜
- MCP å®˜æ–¹æ–‡æ¡£é“¾æ¥

## ğŸ¨ æœ€ç»ˆç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ app/                    # Next.js é¡µé¢
â”‚   â”œâ”€â”€ agent-demo/        # Agent æ¼”ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”œâ”€â”€ comparison/        # å¯¹æ¯”é¡µé¢
â”‚   â”œâ”€â”€ login/             # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ mcp-demo/          # MCP æ¼”ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ signup/            # æ³¨å†Œé¡µé¢
â”‚   â””â”€â”€ test/              # æµ‹è¯•é¡µé¢
â”œâ”€â”€ components/             # React ç»„ä»¶
â”‚   â””â”€â”€ ui/                # UI ç»„ä»¶
â”œâ”€â”€ examples/               # ç¤ºä¾‹ä»£ç  âœ¨ æ–°å¢
â”‚   â””â”€â”€ mcp/               # MCP ç¤ºä¾‹
â”‚       â”œâ”€â”€ README.md      # ç¤ºä¾‹æ–‡æ¡£
â”‚       â”œâ”€â”€ server.ts      # Server ç¤ºä¾‹
â”‚       â”œâ”€â”€ client.ts      # Client ç¤ºä¾‹
â”‚       â”œâ”€â”€ http-server.ts # HTTP Server
â”‚       â”œâ”€â”€ advanced-demo.ts
â”‚       â””â”€â”€ test.ts
â”œâ”€â”€ lib/                   # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ agent/             # Agent ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ agent.ts       # Agent ä¸»é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ config.ts      # é…ç½®
â”‚   â”‚   â”œâ”€â”€ core.ts        # æ ¸å¿ƒå·¥å…·ï¼ˆOpenRouter, Redis, Schemaï¼‰
â”‚   â”‚   â”œâ”€â”€ mcp.ts         # MCP é›†æˆï¼ˆç”Ÿäº§ï¼‰
â”‚   â”‚   â”œâ”€â”€ memory.ts      # è®°å¿†ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ prompt.ts      # æç¤ºè¯
â”‚   â”‚   â”œâ”€â”€ rag.ts         # RAG ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ sse.ts         # SSE æµå¼å“åº”
â”‚   â”‚   â”œâ”€â”€ tool-registry.ts      # å·¥å…·æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ tool-validator.ts     # å·¥å…·éªŒè¯
â”‚   â”‚   â”œâ”€â”€ tool-extensions.example.ts
â”‚   â”‚   â”œâ”€â”€ types.ts       # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ utils.ts       # å·¥å…·å‡½æ•°ï¼ˆID, Logger, Constantsï¼‰
â”‚   â”‚   â””â”€â”€ index.ts       # å¯¼å‡º
â”‚   â”œâ”€â”€ ai/                # AI ç›¸å…³
â”‚   â”œâ”€â”€ auth.ts            # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ oauth.ts           # OAuth
â”‚   â”œâ”€â”€ prisma.ts          # æ•°æ®åº“å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ rabbitmq.service.ts # æ¶ˆæ¯é˜Ÿåˆ—
â”‚   â””â”€â”€ redis.ts           # Redis å®¢æˆ·ç«¯
â”œâ”€â”€ types/                 # å…¨å±€ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ agent.d.ts
â””â”€â”€ middleware.ts          # Next.js ä¸­é—´ä»¶
```

## ğŸ’¡ é‡æ„æ”¶ç›Š

### 1. **æ›´æ¸…æ™°çš„è¯­ä¹‰**
- `lib/` = ç”Ÿäº§ä»£ç ï¼ˆæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼‰
- `examples/` = ç¤ºä¾‹ä»£ç ï¼ˆå­¦ä¹ /æ¼”ç¤ºï¼‰

### 2. **æ›´å¥½çš„å¯ç»´æŠ¤æ€§**
- ç¤ºä¾‹ä»£ç ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»
- é¿å…è¯¯ä¿®æ”¹ç¤ºä¾‹ä»£ç 
- æ–°äººæ›´å®¹æ˜“ç†è§£é¡¹ç›®ç»“æ„

### 3. **æ›´å¥½çš„æ‰©å±•æ€§**
- æœªæ¥å¯ä»¥æ·»åŠ æ›´å¤šç¤ºä¾‹ï¼ˆå¦‚ `examples/rag/`, `examples/streaming/`ï¼‰
- ç¤ºä¾‹ä»£ç ç‹¬ç«‹ï¼Œä¸å½±å“ç”Ÿäº§æ„å»º

### 4. **ç¬¦åˆæœ€ä½³å®è·µ**
- å¸¸è§çš„å¼€æºé¡¹ç›®ç»“æ„æ¨¡å¼
- æ˜“äºæ–‡æ¡£åŒ–å’Œæ•™å­¦

## ğŸ” éªŒè¯æ¸…å•

- [x] æ‰€æœ‰æ–‡ä»¶æˆåŠŸç§»åŠ¨
- [x] `package.json` è„šæœ¬è·¯å¾„å·²æ›´æ–°
- [x] API è·¯ç”±è·¯å¾„å·²æ›´æ–°
- [x] æ¼”ç¤ºé¡µé¢è·¯å¾„å·²æ›´æ–°
- [x] åˆ›å»º README è¯´æ˜æ–‡æ¡£
- [x] éªŒè¯æ— é—æ¼çš„å¼•ç”¨
- [x] æ—§ç›®å½•å·²åˆ é™¤

## ğŸš€ åç»­å»ºè®®

1. **å¯é€‰ï¼šæ·»åŠ æ›´å¤šç¤ºä¾‹**
   ```
   src/examples/
   â”œâ”€â”€ mcp/           # MCP ç¤ºä¾‹
   â”œâ”€â”€ rag/           # RAG ç¤ºä¾‹
   â”œâ”€â”€ streaming/     # SSE æµå¼ç¤ºä¾‹
   â””â”€â”€ tools/         # è‡ªå®šä¹‰å·¥å…·ç¤ºä¾‹
   ```

2. **å¯é€‰ï¼šåœ¨æ ¹ README ä¸­æ·»åŠ ç¤ºä¾‹é“¾æ¥**
   æŒ‡å‘ `src/examples/` ç›®å½•

3. **å¯é€‰ï¼šæ·»åŠ ç¤ºä¾‹çš„è‡ªåŠ¨åŒ–æµ‹è¯•**
   ç¡®ä¿ç¤ºä¾‹ä»£ç å§‹ç»ˆå¯è¿è¡Œ

## ğŸ“ æ³¨æ„äº‹é¡¹

- âš ï¸ æ„å»ºæ—¶å‘ç° `src/app/api/cart/route.ts` æœ‰ç±»å‹é”™è¯¯ï¼ˆä¸æœ¬æ¬¡é‡æ„æ— å…³ï¼‰
- âœ… MCP ç›¸å…³çš„ç”Ÿäº§ä»£ç ä½äº `src/lib/agent/mcp.ts`ï¼Œæœªå—å½±å“
- âœ… æ‰€æœ‰ npm scripts å·²æ›´æ–°å¹¶éªŒè¯
